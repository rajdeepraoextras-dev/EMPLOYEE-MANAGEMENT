<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Khanago Attendance</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #ffffff;
  margin: 0;
}

header {
  background: #ff6a00;
  color: white;
  padding: 16px;
  text-align: center;
  font-size: 20px;
  font-weight: bold;
}

.container {
  padding: 16px;
}

label {
  margin-top: 10px;
  display: block;
  font-weight: bold;
}

input, select, button {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  font-size: 16px;
}

button {
  background: #ff6a00;
  color: white;
  border: none;
  border-radius: 6px;
  margin-top: 12px;
}

button:active {
  background: #e55c00;
}

.footer {
  text-align: center;
  margin-top: 20px;
  font-size: 13px;
  color: #777;
}
</style>
</head>

<body>

<header>ğŸ½ï¸ KHANAGO Attendance System</header>

<div class="container">

  <label>Employee Name</label>
  <input id="name" placeholder="Enter employee name">

  <label>Employee ID</label>
  <input id="empId" placeholder="E001">

  <label>Attendance Status</label>
  <select id="status">
    <option value="Present">Present</option>
    <option value="Leave">Leave</option>
  </select>

  <label>Daily Wage (â‚¹)</label>
  <input id="wage" type="number" placeholder="500">

  <button onclick="markLogin()">ğŸŸ¢ Mark Login</button>
  <button onclick="markLogout()">ğŸ”´ Mark Logout</button>

</div>

<div class="footer">
  Â© Khanago | Attendance & Wage Management
</div>

<script>
const SCRIPT_URL =
"https://script.google.com/macros/s/AKfycbzEqeOZhYUAm7D1bY392BWkcMsrQgDZq1DoAaGLbHliGl6h5Fbwy5C_yjAcZ0rUbptY/exec";

let loginTime = "";

function today() {
  return new Date().toLocaleDateString("en-GB");
}

function timeNow() {
  return new Date().toLocaleTimeString();
}

function markLogin() {
  loginTime = timeNow();
  alert("âœ… Login marked at " + loginTime);
}

function markLogout() {

  if (!loginTime && status.value === "Present") {
    alert("âš ï¸ Please mark login first");
    return;
  }

  const data = {
    date: today(),
    empId: empId.value,
    name: name.value,
    login: status.value === "Leave" ? "" : loginTime,
    logout: status.value === "Leave" ? "" : timeNow(),
    status: status.value,
    wage: status.value === "Leave" ? 0 : wage.value
  };

  fetch(SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(() => {
    alert("âœ… Attendance saved successfully");
    loginTime = "";
  })
  .catch(() => alert("âŒ Error saving attendance"));
}
</script>

</body>
</html>
